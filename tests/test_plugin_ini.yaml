---
- case: ignore_name_ini
  mypy_config: |
    [mypy_strict_kwargs]
    ignore_names = main.func, builtins.str
  main: |-
    def func(a: int) -> None: ...
    func(1)

    def not_ignored(a: int) -> None: ...
    not_ignored(1)

    str(1)
  out: |-
    main:5: error: Too many positional arguments for "not_ignored"  [misc]

# This does not actually test the debug option, but it gives
# us coverage at least.
- case: debug_ini
  mypy_config: |
    [mypy_strict_kwargs]
    ignore_names = main.func, builtins.str
    debug = true
  main: |-
    def func(a: int) -> None: ...
    func(1)

    def not_ignored(a: int) -> None: ...
    not_ignored(1)

    str(1)
  out: |-
    main:5: error: Too many positional arguments for "not_ignored"  [misc]

- case: ignore_name_ini_no_spaces
  mypy_config: |
    [mypy_strict_kwargs]
    ignore_names = main.func,builtins.str
  main: |-
    def func(a: int) -> None: ...
    func(1)

    def not_ignored(a: int) -> None: ...
    not_ignored(1)

    str(1)
  out: |-
    main:5: error: Too many positional arguments for "not_ignored"  [misc]

# Test when no mypy_strict_kwargs section exists - plugin should work with defaults
- case: no_plugin_section_ini
  main: |-
    def func(a: int) -> None: ...
    func(1)
  out: |-
    main:2: error: Too many positional arguments for "func"  [misc]

# Test when ignore_names is empty
- case: empty_ignore_names_ini
  mypy_config: |
    [mypy_strict_kwargs]
    ignore_names =
  main: |-
    def func(a: int) -> None: ...
    func(1)
  out: |-
    main:2: error: Too many positional arguments for "func"  [misc]
